(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{216:function(e,t,a){e.exports=a(508)},461:function(e,t,a){},491:function(e,t){},497:function(e,t,a){},506:function(e,t,a){},507:function(e,t,a){},508:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"getChallenges",function(){return x});var r={};a.r(r),a.d(r,"assignUserName",function(){return U}),a.d(r,"loginUser",function(){return I}),a.d(r,"logoutUser",function(){return R});a(217);var s=a(0),o=a.n(s),l=a(100),c=a(28),i=a(65),u=a(21),m=a(17),h={challenges:[],user:{}};var p=Object(m.c)({currentUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":console.log("PAYLOAD from reducer: ",t.payload),sessionStorage.setItem("user",JSON.stringify(t.payload)),e.user=t.payload;break;case"LOGOUT":console.log("the user hit the logout case THIS IS THE PAYLOAD: ",t.payload),sessionStorage.setItem("user",JSON.stringify(t.payload)),e.user=t.payload;break;default:sessionStorage.user&&(e.user=JSON.parse(sessionStorage.user))}return e},challenges:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.challenges,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CHALLENGES":return t.payload;default:return e}}}),d=a(208),g=a.n(d),f=a(50),E=a.n(f),b=a(209),v=a.n(b),O=a(210),y=a.n(O),S=E.a.create({baseURL:"http://localhost:3001/api",method:"get",response:"json"}),C=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||m.d;var j=a(18),w=a(19),N=a(23),k=a(20),L=a(22);function x(){return{type:"GET_CHALLENGES",payload:fetch("https://codenector.herokuapp.com".concat("/api/challenges")).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return console.log(e)})}}function U(e){return{type:"ASSIGN_USERNAME",payload:e}}function I(e){return{type:"LOGIN",payload:e}}function R(){return{type:"LOGOUT",payload:{}}}var T,F=a(509),P=a(510),M={color:"#343F3E"},A=function(e){return console.log(e),o.a.createElement(F.a,{style:{height:"60%"}},e.challenges.map(function(e,t){return o.a.createElement(P.a,{key:t},o.a.createElement(c.b,{style:M,to:"/rooms/".concat(e.id)},e.title))}))},D=a(511),G=a(512),_=(a(461),a(47)),H=a.n(_),W=function(e){function t(){return Object(j.a)(this,t),Object(N.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(L.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return o.a.createElement(D.a,{id:"bg"},o.a.createElement(G.a,null,o.a.createElement("div",{className:"bgimg"},o.a.createElement("div",{id:"bgOverlay"},o.a.createElement("h1",{className:"title text-center"},o.a.createElement(H.a,{id:"icon",name:"terminal"})," CodeNector"),o.a.createElement("h3",{className:"text-center"},"Pair Programming, From Anywhere")))))}}]),t}(s.Component),q=Object(u.b)(function(e){return{challenges:e.challenges}},function(e){})(W),J=a(513),Y=a(514),B=a(515),z=a(516),X=a(517),V={color:"#DCEDFF",backgroundColor:"#343F3E",height:"100vh",fontFamily:"'Roboto Mono', monospace",fontSize:"0.75rem"},K={backgroundColor:"#505A5B"},Q=function(e){return o.a.createElement(J.a,{style:V},o.a.createElement(Y.a,{style:K},o.a.createElement(B.a,null,o.a.createElement(z.a,null,e.title),o.a.createElement(X.a,null,e.description))),o.a.createElement(Y.a,{style:K},o.a.createElement(B.a,null,o.a.createElement(z.a,null,"Result:"),o.a.createElement(X.a,null,e.value))))},Z=function(e){function t(){return Object(j.a)(this,t),Object(N.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(L.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){0===this.props.challenges.length&&this.props.actions.getChallenges()}},{key:"render",value:function(){var e=o.a.createElement("div",{className:"container"},o.a.createElement(A,{challenges:this.props.challenges})),t=o.a.createElement(q,null);return this.props.user.username?e:t}}]),t}(s.Component),$=Object(u.b)(function(e){return{challenges:e.challenges,user:e.currentUser.user}},function(e){return{actions:Object(m.b)(Object.assign(r,n),e)}})(Z),ee=a(215),te=(a(133),a(213)),ae=a.n(te),ne=a(214),re=a.n(ne),se=a(518),oe=(a(494),a(496),{register:function(){return E.a.get("/register")},login:function(){return E.a.get("/login")},submitRegister:function(e){return E.a.post("/register",e).then(function(e){return console.log(e.data),e.data}).catch(function(e){console.log(e)})},submitLogin:function(e){return E.a.post("/login",e).then(function(e){return console.log(e),console.log("hitting login"),e.data}).catch(function(e){console.log(e),console.log("error at login")})},Logout:function(e){return E.a.get("/logout").then(function(e){console.log(e),console.log("hitting logout")}).catch(function(e){console.log(e),console.log("error at logout")})},execute:function(e){return E.a.post("/api/sandbox",{code:e}).then(function(e){return console.log(e.data),e.data}).catch(function(e){console.log(e.message)})}}),le=re()(),ce={backgroundColor:"#DCEDFF"},ie={backgroundColor:"#505a5b",color:"#dcedff"},ue=function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(N.a)(this,Object(k.a)(t).call(this,e))).evalCode=function(){oe.execute(a.state.code).then(function(e){return a.updateResultInState(e)}).catch(function(e){return console.log(e)})},a.renderResult=function(){if(""!==a.state.result)return o.a.createElement("h1",null,"this.state.result")},a.updateCodeInState=function(e){a.setState({code:e}),le.emit("coding event",{room:a.props.challenge.id,newCode:e})},a.updateResultInState=function(e){console.log(e),a.setState({result:e}),le.emit("code execution",{result:e})},a.state={code:"",result:""},le.on("receive code",function(e){a.updateCodeFromSockets(e)}),le.on("receive result",function(e){a.updateResultFromSockets(e),console.log(e,"receive result")}),a}return Object(L.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){void 0==this.props.challenge.id?this.props.actions.getChallenges():le.emit("room",{room:this.props.challenge.id})}},{key:"compponentWillReceiveProps",value:function(e){le.emit("room",{room:e.challenge.id});var t=e.currentUser,a=[].concat(Object(ee.a)(this.state.users),[t]);this.setState({users:a})}},{key:"componentWillUnmount",value:function(){le.emit("leave room",{room:this.props.challenge.id})}},{key:"updateCodeFromSockets",value:function(e){this.setState({code:e.newCode})}},{key:"updateResultFromSockets",value:function(e){this.setState({result:e.result})}},{key:"render",value:function(){var e=o.a.createElement("div",{style:ce},o.a.createElement(D.a,null,o.a.createElement(G.a,{xs:"9"},o.a.createElement(ae.a,{value:this.state.code,onChange:this.updateCodeInState,mode:"javascript",theme:"solarized_dark",width:"76vw",height:"85vh",fontSize:"18px"}),o.a.createElement(se.a,{style:ie,className:"float-right",onClick:this.evalCode},o.a.createElement(H.a,{name:"play"})," ","Run Code")),o.a.createElement(G.a,{xs:"3"},o.a.createElement(Q,{title:this.props.challenge.title,description:this.props.challenge.description,value:this.state.result,onChange:this.updateResultInState})))),t=o.a.createElement(q,null);return this.props.user.username?e:t}}]),t}(s.Component),me=Object(u.b)(function(e,t){return e.challenges.length>0?{challenge:e.challenges.filter(function(e){return e.id==t.match.params.id})[0],user:e.currentUser.user}:{challenge:{title:"",description:""},user:e.currentUser.user}},function(e){return{actions:Object(m.b)(n,e)}})(ue),he=a(102),pe=a(519),de=a(520),ge=a(521),fe=a(528),Ee=a(522),be=a(523),ve=(a(497),{backgroundColor:"#343F3E"}),Oe=function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(N.a)(this,Object(k.a)(t).call(this,e))).toggle=a.toggle.bind(Object(he.a)(a)),a.state={isOpen:!1,isLoggedin:!1},a}return Object(L.a)(t,e),Object(w.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"logout",value:function(){this.props.onSuccessfullLogOut()}},{key:"render",value:function(){var e=this.props.user.username;return o.a.createElement(pe.a,{expand:"md",style:ve},o.a.createElement(de.a,{href:"/Home"},o.a.createElement(H.a,{name:"terminal"})," ","CodeNector"),o.a.createElement(ge.a,{onClick:this.toggle}),o.a.createElement(fe.a,{isOpen:this.state.isOpen,navbar:!0},e?o.a.createElement(Ee.a,{className:"ml-auto",navbar:!0},o.a.createElement(be.a,null,o.a.createElement("a",{className:"nav-link",href:"/",onClick:this.logout.bind(this)},"Logout"))):o.a.createElement(Ee.a,{className:"ml-auto",navbar:!0},o.a.createElement(be.a,null,o.a.createElement(c.b,{className:"nav-link",to:"/login"},"Login")),o.a.createElement(be.a,null,o.a.createElement(c.b,{className:"nav-link",to:"/register"},"Register")))))}}]),t}(o.a.Component),ye=Object(u.b)(function(e,t){return{user:e.currentUser.user}},function(e){return{onSuccessfullLogOut:function(){e({type:"LOGOUT",payload:{}})}}})(Oe),Se=(a(505),a(73)),Ce=a(524),je=a(525),we=a(526),Ne=a(527),ke=function(e){function t(){var e,a;Object(j.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(N.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={isLoggedin:!1},a.componentWillMount=function(){a.props.user.username||(console.log("there is no user logged in. "),a.props.history.push("/")),console.log(a.props.user)},a}return Object(L.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return o.a.createElement("div",{className:"container"},"SUPER SECRET PAGE THAT YOU CAN ONLY SEE IF YOU ARE LOGGED IN.")}}]),t}(s.Component),Le=Object(u.b)(function(e,t){return{user:e.currentUser.user}},function(){})(ke),xe={marginTop:"5px",backgroundColor:"#505a5b"},Ue={marginTop:"5px"},Ie=function(e){function t(){var e,a;Object(j.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(N.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",areFieldsPopulated:!1,isLoginSuccessful:!1,isCredentialsWrong:!1},a.handleInputChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(Se.a)({},n,r))},a.handleFormSubmit=function(e){e.preventDefault(),a.setState({areFieldsNotPopulated:!1,isCredentialsWrong:!1}),a.state.username&&a.state.password?oe.submitLogin({username:a.state.username,password:a.state.password}).then(function(e){console.log("response from server at login."),console.log(e),e&&e.isLoginSuccessful?(console.log("successful login form login page."),a.props.onSuccessfullLogin(e.user),a.setState({isLoginSuccessful:!0}),ye.forceUpdate()):a.setState({isCredentialsWrong:!0})}).catch(function(e){return console.log(e)}):(a.setState({areFieldsNotPopulated:!0}),console.log("missing fields"))},a}return Object(L.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=o.a.createElement($,null),t=o.a.createElement(J.a,{className:"justify-content-center"},o.a.createElement(Y.a,{style:Ue},o.a.createElement(B.a,null,o.a.createElement(J.a,null,o.a.createElement(Ce.a,null,this.state.areFieldsNotPopulated?o.a.createElement("div",{className:"errorMsg"}," Please enter a user name and password "):null,this.state.isCredentialsWrong?o.a.createElement("div",{className:"errorMsg"}," Login unsuccessful. Please verify that username and paswword are correct.  "):null,o.a.createElement(je.a,null,o.a.createElement(we.a,{for:"username"},"Username"),o.a.createElement(Ne.a,{type:"email",placeholder:"Username",name:"username",value:this.state.username,onChange:this.handleInputChange})),o.a.createElement(je.a,null,o.a.createElement(we.a,{for:"password"},"Password"),o.a.createElement(Ne.a,{type:"password",placeholder:"Password",name:"password",value:this.state.password,onChange:this.handleInputChange}),o.a.createElement(se.a,{style:xe,href:"/Home",onClick:this.handleFormSubmit},o.a.createElement(H.a,{name:"sign-in-alt"})," ","Login")))))));return this.state.isLoginSuccessful?e:t}}]),t}(s.Component),Re=Object(u.b)(function(e,t){return{user:e.currentUser.user}},function(e){return{onSuccessfullLogin:function(t){e(I(t))}}})(Ie),Te=function(e){function t(){var e,a;Object(j.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(N.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},a.handleInputChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(Se.a)({},n,r))},a.handleButtonClick=function(e){e.preventDefault(),oe.Logout()},a}return Object(L.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return o.a.createElement("button",{onClick:this.handleButtonClick},"logout")}}]),t}(s.Component),Fe=(Object(u.b)(function(e){return e({type:"LOGOUT",payload:{}})},function(e){return{actions:Object(m.b)(Object.assign(r,n),e)}})(Te),a(506),{marginTop:"5px"}),Pe=function(e){function t(){var e,a;Object(j.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(N.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",confirmPassword:"",firstName:"",lastName:"",isRegistered:!1,errors:[],firstnameError:!1,lastnameError:!1,passwordError:!1,passwordMatchError:!1,usernameError:!1,userExistsError:!1},a.handleInputChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(Se.a)({},n,r))},a.completeRegistration=function(){a.setState({isRegistered:!0})},a.loopThroughTheErrors=function(e){if(a.setState({errors:e,firstnameError:!1,lastnameError:!1,passwordError:!1,passwordMatchError:!1,usernameError:!1,userExistsError:!1}),console.log(e.userExists),e.userExists)console.log("DOES USER EXISTS? "+a.state.userExistsError),a.setState({userExistsError:!0});else for(var t=0;t<e.length;t++)"username"===e[t].param&&a.setState({usernameError:!0}),"password"===e[t].param&&a.setState({passwordError:!0}),"confirmpassword"===e[t].param&&a.setState({passwordMatchError:!0}),"firstName"===e[t].param&&a.setState({firstnameError:!0}),"lastName"===e[t].param&&a.setState({lastnameError:!0})},a.handleFormSubmit=function(e){e.preventDefault(),oe.submitRegister({username:a.state.username,password:a.state.password,confirmpassword:a.state.confirmpassword,firstName:a.state.firstName,lastName:a.state.lastName}).then(function(e){console.log("response.data: "+e),e.registrationSuccess?a.completeRegistration():a.loopThroughTheErrors(e)}).catch(function(e){return console.log(e)})},a}return Object(L.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=o.a.createElement($,null),t=o.a.createElement(J.a,null,o.a.createElement(Y.a,{style:Fe},o.a.createElement(B.a,null,o.a.createElement(Ce.a,{onSubmit:this.handleFormSubmit},o.a.createElement(je.a,null,o.a.createElement(we.a,{for:"username"},"Username"),o.a.createElement(Ne.a,{type:"text",placeholder:"Username",name:"username",value:this.state.username,onChange:this.handleInputChange}),this.state.usernameError?o.a.createElement("div",{className:"errorMsg"}," The username field is required "):null),o.a.createElement(je.a,null,o.a.createElement(D.a,null,o.a.createElement(G.a,{xs:"6"},o.a.createElement(we.a,{for:"password"},"Password"),o.a.createElement(Ne.a,{type:"password",placeholder:"Password",name:"password",value:this.state.password,onChange:this.handleInputChange}),this.state.passwordError?o.a.createElement("div",{className:"errorMsg"}," The password field is required "):null),o.a.createElement(G.a,{xs:"6"},o.a.createElement(we.a,{for:"password"},"Confirm Password"),o.a.createElement(Ne.a,{type:"password",placeholder:"Confirm Password",name:"confirmpassword",value:this.state.confirmpassword,onChange:this.handleInputChange}))),this.state.passwordMatchError?o.a.createElement("div",{className:"errorMsg"}," The passwords must match. "):null),o.a.createElement(je.a,null,o.a.createElement(we.a,{for:"firstName"},"First Name"),o.a.createElement(Ne.a,{type:"firstName",placeholder:"First Name",name:"firstName",value:this.state.firstName,onChange:this.handleInputChange}),this.state.firstnameError?o.a.createElement("div",{className:"errorMsg"}," The first name field is required "):null),o.a.createElement(je.a,null,o.a.createElement(we.a,{for:"lastName"},"Last Name"),o.a.createElement(Ne.a,{type:"lastName",placeholder:"Last Name",name:"lastName",value:this.state.lastName,onChange:this.handleInputChange}),this.state.lastnameError?o.a.createElement("div",{className:"errorMsg"}," The last name field is required "):null),o.a.createElement(se.a,{type:"submit"},o.a.createElement(H.a,{name:"wpforms"})," ","Register"),this.state.userExistsError?o.a.createElement("div",{className:"errorMsg"}," Username already in use. Please create a unique username. "):null))));return this.state.isRegistered?e:t}}]),t}(s.Component),Me=(a(507),Object(m.e)(p,T,C(Object(m.a)(y.a,g.a,v()(S)))));Object(l.render)(o.a.createElement(u.a,{store:Me},o.a.createElement(c.a,null,o.a.createElement("div",null,o.a.createElement(ye,null),o.a.createElement(i.c,null,o.a.createElement(i.a,{exact:!0,path:"/",component:q}),o.a.createElement(i.a,{exact:!0,path:"/rooms/:id",component:me}),o.a.createElement(i.a,{exact:!0,path:"/register",component:Pe}),o.a.createElement(i.a,{exact:!0,path:"/login",component:Re}),o.a.createElement(i.a,{exact:!0,path:"/userprofile",component:Le}),o.a.createElement(i.a,{exact:!0,path:"/Home",component:$}))))),document.getElementById("root"))}},[[216,1,2]]]);
//# sourceMappingURL=main.2c2f1e3a.chunk.js.map